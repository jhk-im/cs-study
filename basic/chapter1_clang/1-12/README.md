# 다차원 배열과 포인터 배열

```txt
1) 다양한 차원의 배열을 표현하는 방법을 이해 
2) 포인터를 이용해 2차원 배열을 다루는 방법 학습 
```

---

## 2차원배열의 필요성

1) 2차원 배열은 많은 목적으로 사용된다.
2) 행렬 데이터를 표현할 때, 그래프 알고리즘을 처리할 때, 다수의 실생활 데이터를 처리할 때 등..
3) 흔히 우리가 보는 표 구조가 2차원 배열과 흡사하다.

|이름|영어성적|수학성적|국어성적|
|-|-|-|-|-|
|홍길동|90|85|90|
|곽두팔|60|55|70|

### 2차원 배열은 1차원 배열이 중첩 되어있다는 의미로 []를 두번 연속 사용한다

```c
자료형 배열이름[행][열] = {{a,b,c...},...},{{a,b,c,...},...}
int a[10][10];
```

#### 2차원 배열의 초기화

|a[0][0]|a[0][1]|a[0][2]|
|-|-|-|
|a[1][0]|a[1][1]|a[1][2]|
|a[2][0]|a[2][1]|a[2][2]|

#### 차원 배열의 사용

```c
#include <stdio.h>

int a[3][3] = { {1,2,3},{4,5,6},{7,8,9} };

int main(void) {
 for (int i = 0; i < 3; i++) {
  for (int j = 0; j < 3; j++) {
   printf("%d ", a[i][j]);
  }
  printf("\n");
 }
 system("pause");
 return 0;
}
```

```cmd
1 2 3
4 5 6
7 8 9
```

---

### 다차원 배열

1) 2차원 배열 이상의 다차원 배열
2) 컴퓨터는 기본적으로 화면에 2차원 형태만 출력할 수 있다.

```c
#include <stdio.h>

int a[2][3][3] = {{ {1,2,3},{4,5,6},{7,8,9} }, { {1,2,3},{4,5,6},{7,8,9} }};

int main(void) {
 for (int i = 0; i < 2; i++) {
  for (int j = 0; j < 3; j++) {
   for (int k = 0; k < 3; k++) {
    printf("%d ", a[i][j][k]);
   }
   printf("\n");
  }
 }
 system("pause");
 return 0;
}
```

```cmd
1 2 3
4 5 6
7 8 9
1 2 3
4 5 6
7 8 9
```

---

### 포인터 배열

1) 배열과 포인터는 동일한 방식으로 동작한다.
2) 배열의 이름은 배열의 원소의 첫 번째 주소가 된다.
3) 유일한 차이점이라고 하면, 포인터는 변수이며 배열의 이름은 상수이다.

```c
#include <stdio.h>

int main(void) {
 int a = 10;
 int b[10];
 b = &a; -> 오류 발생 
 system("pause");
 return 0;
}
```

```cmd
배열의 이름은 상수이기 때문에 값을 입력할 수 없으므로 오류가 발생한다. 
```

---

### 포인터 배열의 구조 분석

#### 포인터를 배열처럼 사용할 수 있다

```c
#include <stdio.h>

int main(void) {
 int a[5] = { 1,2,3,4,5 };
 int *b = a;
 printf("%d\n", b[2]);
 system("pause");
 return 0;
}
```

```cmd
3
```

#### 배열의 이름은 배열의 첫 번째 원소의 주소이다

```c
#include <stdio.h>

int main(void) {
 int a[5] = { 1,2,3,4,5 };
 int *b = &a[0];
 printf("%d\n", b[2]);
 system("pause");
 return 0;
}
```

```cmd
3
```

* a = &a[0] -> 배열의 첫번째 원소의 주소

#### 포인터는 연산이 가능하다

1) 연산을 통해 자료형의 크기만큼 이동한다.
2) 따라서 정수형 포인터는 4 바이트씩 이동한다.

```c
#include <stdio.h>

int main(void) {
 int a[5] = { 1,2,3,4,5 };
 for (int i = 0; i < 5; i++) {
  printf("%d ", a + i);
 }
 system("pause");
 return 0;
}
```

```cmd
3995956 3995960 3995964 3995968 3995972
```

* 4 바이트 씩 증가한다.
* a + i 을 *(a+i)로 바꾸면 1 2 3 4 5를 출력한다.
* *(a+i) = a[i] 는 동일하게 동작한다.

#### 배열의 마지막 원소의 주소 알아내기

1) 크기가 10인 double형 배열을 선언했을 때 배열의 시작 주소가 X일 때 배열의 마지막 원소의 주소는?

```c
#include <stdio.h>

int main(void) {
 double b[10];
 printf("%d %d\n", b, b + 9);
 system("pause");
 return 0;
}
```

```cmd
7339312 7339384
```

* double 은 8bytes
* 8 x 9 = 72
* X + 72
* 첫번째 원소와 마지막원소의 차이는 72다.

#### 배열을 포인터처럼 사용하기

```c
#include <stdio.h>

int main(void) {
 int a[5] = { 1,2,3,4,5 };
 for (int i = 0; i < 5; i++) {
  printf("%d ", *(a + i));
 }
 system("pause");
 return 0;
}
```

```cmd
1 2 3 4 5
```

#### 다음의 결과는?

```c
#include <stdio.h>

int main(void) {
 int a[5] = { 1,2,3,4,5 };
 int *p = a;
 printf("%d\n", *(p++));
 printf("%d\n", *(++p));
 printf("%d\n", *(p+2));
 system("pause");
 return 0;
}
```

```cmd
1
3
5
```

* *(p++) = 첫번째 원소 1출력후 1칸 이동 (2)
* *(++p) = 1칸 이동한 후의 값인 3출력 (3)
* *(p+2) = 2칸 이동한 값인 5 출력

#### 2차원 배열의 포인터 처리

```c
#include <stdio.h>

int main(void) {
 int a[2][5] = {{ 1,2,3,4,5 }, { 6,7,8,9,10 } };
 int(*p)[5] = a[1];
 for (int i = 0; i < 5; i++) {
  printf("%d ", p[0][i]);
 }
 system("pause");
 return 0;
}
```

```cmd
6 7 8 9 10
```

* [*p](5) = 5개 열을 가지는 가지는 행을 의미하는 포인터
* a[1] -> 두번째 행의 주소를 의미하는 첫번째 원소를 담는다.
* p[0][i] -> 이중 포인터 이므로 0번째 행의 i를 출력하게 된다.

---

### 배운내용 정리하기

1) 컴퓨터에서 2차원 배열 이상을 표연할 수 있다.
2) 배열은 내부적으로 포인터와 동일하므로 포인터 연산으로 배열을 대체할 수 있다.
